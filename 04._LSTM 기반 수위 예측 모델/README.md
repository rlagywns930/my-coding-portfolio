# 📄 LSTM 기반 수위 예측 시스템  
아두이노와 초음파 센서를 활용하여 수위 상승 데이터를 실시간 수집하고, 이를 기반으로 LSTM 모델로 총 충전 시간을 예측하는 실험 프로젝트입니다.

---

## 📌 개요  
본 프로젝트는 저비용 센서 기반의 수위 예측 자동화 기술을 연구하기 위해 진행되었습니다. HC-SR04 초음파 센서와 아두이노 우노를 활용하여 시계열 거리 데이터를 수집하고, 이를 딥러닝 기반 LSTM(Long Short-Term Memory) 모델에 적용하여 수조가 가득 찰 때까지의 남은 시간을 예측합니다.

---

## 🧪 실험 구성

- **센서**: HC-SR04 초음파 거리 센서  
- **제어 장치**: Arduino Uno  
- **수집 대상**: 투명 플라스틱 물병 (높이 25cm)  
- **측정 조건**: 물을 천천히 또는 빠르게 채우는 방식으로 수위 상승  
- **데이터 전송**: 시리얼 통신 (Python으로 실시간 수신)  
- **측정 포인트**: 수위 비율 기준 (1/10, 1/8, 1/6, 1/4, 1/2, 만수위)

---

## 📈 데이터 수집 및 처리

- 초음파 센서가 수면까지의 거리를 측정하여 경과 시간과 함께 전송  
- 거리값이 일정 임계값에 도달할 때의 시간 데이터를 자동 기록  
- 이상치 필터링을 통해 노이즈 제거  
- 수집된 데이터는 CSV 형식으로 저장  
- 모델 학습을 위한 정규화 (Min-Max Scaling) 적용

---

## 🤖 모델 설계 (LSTM 기반)

- **입력**: 각 수위 지점(5개)의 도달 시간  
- **출력**: 물이 가득 찰 때까지의 총 소요 시간  
- **모델 구조**:  
  - LSTM Layer (units=64)  
  - Dense Output Layer (출력 1개)  
- **손실 함수**: MSE (Mean Squared Error)  
- **최적화 알고리즘**: Adam  
- **학습 횟수**: 300 epoch

---

## 🔍 예측 결과 및 분석

- 수집된 데이터를 바탕으로 예측값 시각화  
- 기준 시간(예: 70초)과 비교하여 침수 위험 여부 판단  
- 예측값과 실제값의 차이를 통해 정확도 평가

---

## 📁 폴더 및 파일 구성  

| 파일명 | 설명 |
|--------|------|
| `arduino_ultrasonic.ino` | 수위 시간 측정용 아두이노 코드 |
| `water_level_prediction.py` | Python 기반 데이터 수집 및 예측 코드 |
| `experiment_data.csv` | 실험에서 수집된 시계열 데이터 |
| `paper.pdf` | 논문 원문 파일 (PDF) |

---


## ✍️ 연구의 의의 및 한계

- **의의**:
  - 저비용 장비로도 실시간 수위 예측이 가능함을 확인
  - 단순한 실험 설정으로도 딥러닝 기반 예측이 효과적이라는 것을 시사

- **한계**:
  - 실험 횟수 및 환경이 제한되어 일반화에는 제약
  - 거리 측정의 정확도는 센서의 오차 및 설치 방식에 따라 민감함

---


> 📌 본 프로젝트는 실험 기반 수위 예측 시스템의 가능성을 보여주며, 환경 모니터링 및 침수 예방 등의 응용 가능성을 제시합니다.

