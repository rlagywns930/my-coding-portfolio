# SHAP 값으로 모델 해석하기
---


![image](https://github.com/user-attachments/assets/53555db3-9816-4c35-bc2a-7763a4020cf4)


![image](https://github.com/user-attachments/assets/430319e2-5ab7-4d8f-8880-a93ce4241283)


![image](https://github.com/user-attachments/assets/a881aa31-794c-4b24-aeda-a5ef0bd9affa)

1️⃣ SHAP 중요도 막대 그래프 (Feature Importance)

- Sex, Title_Mr, Pclass 가 모델 예측에 가장 큰 영향
- 그 외에도 Fare, HasCabin, FamilySize 등도 기여
- 모델은 성별, Mr, Mrs, 객실등급과 같은 사회적/경제적 신분과 관련된 피처에 크게 반응함


2️⃣ SHAP dot plot (방향성과 값 크기까지 시각화)
- 양수 = 생존 확률 ↑, 음수 = 생존 확률 ↓
- Sex = female(🔴) → 오른쪽 (생존 확률 ↑)

Title_Mr = 1(🔴) → 왼쪽 (사망 확률 ↑)

Pclass = 3등석(🔵) → 왼쪽 (사망 확률 ↑)

Fare가 클수록 생존 확률이 올라감

HasCabin = 1 → 생존에 긍정적 영향 (객실 정보 있음 = 상류층)



3️⃣ 개별 예측에 대한 Force Plot 해석

예측 확률: 0.84 (생존)

빨간색(+) 요소: 생존 확률을 증가시킨 피처

파란색(-) 요소: 생존 확률을 낮춘 피처

해석: Fare, Embarked=C, Title_Master 등이 생존 쪽으로 강하게 끌어감 반면 Sex=0(남성), Pclass=3, Title_Mr=1 등은 예측을 사망 쪽으로 끌어내림


| 변수명        | 영향 방향   | 요약 설명                         |
|---------------|-------------|----------------------------------|
| Sex (여성)    | 생존 ↑      | 여성은 구조 우선 대상 (실제 데이터 반영) |
| Title_Mr      | 사망 ↑      | Mr는 성인 남성 → 생존률 낮음       |
| Pclass        | 사망 ↑      | 3등석은 하류층 → 구조 우선 순위 낮음  |
| Fare (높음)   | 생존 ↑      | 고액 티켓 → 상류층 → 구조 우선 가능성 ↑ |
| HasCabin      | 생존 ↑      | 객실 있는 승객 → 상류층일 가능성 ↑  |
| FamilySize    | 혼자인 경우 사망 ↑ | 가족이 있는 경우 생존 ↑ 가능성 존재   |

