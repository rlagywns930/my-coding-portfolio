# 1. FamilySize (가족 수)

#SibSp와 Parch를 더한 후 자기 자신(1명)을 포함해서 FamilySize라는 새 변수(파생 변수)를 만듬  
for dataset in [train, test]:  
    dataset['FamilySize'] = dataset['SibSp'] + dataset['Parch'] + 1  

![image](https://github.com/user-attachments/assets/975ebd0a-4286-4765-89be-cc6e987e9c8c)


---


# 2. IsAlone (혼자인 승객 여부)


#파생변수 IsAlone생성 후 FamilySize == 1인 경우, 즉 혼자 탑승한 승객만 IsAlone = 1로 바꿈  
for dataset in [train, test]:  
    dataset['IsAlone'] = 0  
    dataset.loc[dataset['FamilySize'] == 1, 'IsAlone'] = 1  

  ![image](https://github.com/user-attachments/assets/de6e4bee-b7c6-4e28-a67d-0bc5edb1c389)  


  ---


  # 3. Title (이름에서 직함 추출)

Title은 사회적 지위, 성별, 나이층 등과 관련된 간접적인 정보!


#승객 이름(Name)에서 직함(Title)을 추출해서,새로운 열인 Title이라는 파생 변수를 만듦
for dataset in [train, test]:
    dataset['Title'] = dataset['Name'].str.extract(' ([A-Za-z]+)\.', expand=False)


![image](https://github.com/user-attachments/assets/45c1d63f-1628-43ac-9374-2a2a2f929157)



추출된 Title은 종류가 많기 때문에 일부를 통합해줌!

for dataset in [train, test]:
    dataset['Title'] = dataset['Title'].replace(['Lady', 'Countess','Capt','Col',\'Don', 'Dr', 'Major', 'Rev', 'Sir', 'Jonkheer', 'Dona'], 'Rare')  
    dataset['Title'] = dataset['Title'].replace('Mlle', 'Miss')  
    dataset['Title'] = dataset['Title'].replace('Ms', 'Miss')  
    dataset['Title'] = dataset['Title'].replace('Mme', 'Mrs')  

![image](https://github.com/user-attachments/assets/53694436-5c48-46c9-868e-f7cc6b576681)


=> 이 과정은 파생 변수 Title을 더 정돈된 상태로 만들어주는 전처리 작업!


---


#4. FareBand (Fare 구간 나누기 - 모델이 연속값 대신 구간을 학습


Fare(운임 요금)이라는 연속형(숫자형) 변수를 구간화해서 범주형(카테고리) 변수로 바꾼다. 즉 파생변수 FareBand 생성  


train['FareBand'] = pd.qcut(train['Fare'], 4)  # 4개 구간으로 나눔  
#테스트셋도 동일한 기준 적용  
fare_bins = pd.qcut(train['Fare'], 4, retbins=True)[1]  
test['FareBand'] = pd.cut(test['Fare'], bins=fare_bins, include_lowest=True)  

![image](https://github.com/user-attachments/assets/d3f11614-29de-49d2-9a9e-fd4951c119fd)  


---


# 5. AgeGroup (Age를 범주형으로 나누기)  

나이를 7개의 구간으로 나눔  

for dataset in [train, test]:  
    dataset['AgeGroup'] = pd.cut(dataset['Age'], bins=[0, 10, 20, 30, 40, 50, 60, 80], labels=False)  

![image](https://github.com/user-attachments/assets/91044126-0e9a-42a3-92c5-c41e6a4dd6be)


  
    
